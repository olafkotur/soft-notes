<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.9.1 (457703)"/><meta name="altitude" content="59.30245971679688"/><meta name="author" content="Olaf Kotur"/><meta name="created" content="2019-02-01 17:09:28 +0000"/><meta name="latitude" content="54.01065975113274"/><meta name="longitude" content="-2.78534521284978"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-03-30 09:13:41 +0000"/><title>06: Web and HTTP</title></head><body><div><span style="font-weight: bold;">HTTP: </span>Web’s application layer protocol, uses client-server model. Client sends HTTP request and receives a HTTP response to display Web Page.</div><ul><li><div><span style="font-weight: bold;">HTTP is stateless:</span> Server maintains no information about past client requests.</div></li><li><div>Too much complexity involved in storing such info.</div></li></ul><div><br/></div><div><span style="font-weight: bold;">TCP Protocol: </span>Used by HTTP.</div><ul><li><div>Client initiates TCP connection, socket is made on port 80.</div></li><li><div>Server accepts TCP connection from client</div></li><li><div>HTTP messages exchanged between browser and Web Server.</div></li><li><div>TCP connection closed.</div></li></ul><div><br/></div><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 99px;"/><col style="width: 692px;"/></colgroup><tbody><tr><td style="width: 99px; padding: 8px; border: 1px solid;"><div><span style="font-weight: bold;">Non-Persistent HTTP</span></div></td><td style="width: 692px; padding: 8px; border: 1px solid;"><div>At most one object is sent over TCP, downloading multiple uses more connections.</div><ol><li><div>Client initiates TCP on port 80.</div></li><li><div>Server waits for TCP connection and accepts</div></li><li><div>Client sends HTTP request message</div></li><li><div>Server received message and forms response containing object</div></li><li><div>HTTP server closes TCP.</div></li><li><div>Client receives response in HTML file.</div></li></ol><div><br/></div><div><span style="font-weight: bold;">RTT:  </span>Time for small packet to travel from client to server and back <span style="font-weight: bold;">time = 2RTT + file transmission time</span></div><ul><li><div>One RTT to make TCP</div></li><li><div>One RTT for HTTP request/return.</div></li><li><div>File transmission time</div></li></ul></td></tr><tr><td style="width: 99px; padding: 8px; border: 1px solid;"><div><span style="font-weight: bold;">Persistent HTTP</span></div></td><td style="width: 692px; padding: 8px; border: 1px solid;"><div>Multiple objects can be sent over single TCP between client and server.</div><ol><li><div>Server leaves connection open after sending response. </div></li><li><div>Client sends requests as soon as it encounters a referenced object.</div></li></ol></td></tr></tbody></table><div><br/></div><div><span style="font-weight: bold;">HTTP Request</span></div><div><img src="06%3A%20Web%20and%20HTTP.html.resources/1B5326C1-9212-4631-AFEF-9337D13A3874.png" height="456" width="1018"/><br/></div></div><div><img src="06%3A%20Web%20and%20HTTP.html.resources/DAC8B159-9ADE-4E29-AC3A-4E1F00D23665.png" height="492" width="824"/><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div># Generates header according to the provided code</div><div>def createHeader(code):</div><div>    formattedTime = time.strftime('%a, %d %b %Y %H:%M:%S', time.localtime())</div><div>    header = 'HTTP/1.1 ' + code + '\n'</div><div>    header += 'Date: ' + formattedTime + '\n'</div><div>    header += 'Server: WebServer Example\n\n'</div><div>    return header.encode()</div></div><div><br/></div><div><span style="font-weight: bold;">Uploading from input</span></div><ul><li><div><span style="font-weight: bold;">POST:</span> Input is uploaded to server in entity body.</div></li><li><div><span style="font-weight: bold;">URL: </span>Uses GET method, input is uploaded in URL field of request line.</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>www.somesite.com/animalsearch?monkeys&amp;banana</div></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">HTTP Response</span></div><div><b><img src="06%3A%20Web%20and%20HTTP.html.resources/C6663331-0FDE-4776-8393-84BB2A867AFD.png" height="534" width="962"/><br/></b></div><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 190px;"/><col style="width: 325px;"/></colgroup><tbody><tr><td colspan="2" style="width: 515px; padding: 8px; border: 1px solid;"><div style="text-align: center; "><span style="font-weight: bold;">Status Codes</span></div></td></tr><tr><td style="width: 190px; padding: 8px; border: 1px solid;"><div><span style="font-weight: bold;">200 - OK</span></div></td><td style="width: 325px; padding: 8px; border: 1px solid;"><div>Request succeeded</div></td></tr><tr><td style="width: 190px; padding: 8px; border: 1px solid;"><div><span style="font-weight: bold;">301 - Moved Permanently</span></div></td><td style="width: 325px; padding: 8px; border: 1px solid;"><div>Request object moved, new location specified later in message</div></td></tr><tr><td style="width: 190px; padding: 8px; border: 1px solid;"><div><span style="font-weight: bold;">400 - Bad Request</span></div></td><td style="width: 325px; padding: 8px; border: 1px solid;"><div>Request message not understood by server</div></td></tr><tr><td style="width: 190px; padding: 8px; border: 1px solid;"><div><span style="font-weight: bold;">404 - Not found</span></div></td><td style="width: 325px; padding: 8px; border: 1px solid;"><div>Requested document not found on server</div></td></tr><tr><td style="width: 190px; padding: 8px; border: 1px solid;"><div><span style="font-weight: bold;">505 - HTTP Version Not Supported</span></div></td><td style="width: 325px; padding: 8px; border: 1px solid;"><div>N/A</div></td></tr></tbody></table><div><br/></div></div><div><span style="font-weight: bold;">Cookies: </span>Cheeky little fuckers, allows to use states.</div><ul><li><div>Stored on users’s device, created by server with a UID.</div></li><li><div>Cookies can be shared amongst multiple providers.</div></li><li><div>If cookie exists, it will send cookie with the request so can give extra accessibility <span style="font-weight: bold;">e.g. </span>keeps state of shopping cart in Amazon.</div></li><li><div><span style="font-weight: bold;">Other uses: </span>Auth, Recommendations, Session.</div></li></ul><div><br/></div><div><span style="font-weight: bold;">Web Caching</span></div><ul><li><div>Proxy server used to cache frequently used content.</div></li><li><div>If one client requests the same content as another client before, they do not need to access the origin server.</div></li><li><div>Saves time and money as it limits the download frequency from the origin server.</div></li><li><div>Cookies may often fail as it wouldn’t deliver personalised content.</div></li></ul><div><img src="06%3A%20Web%20and%20HTTP.html.resources/BCD2F69C-DE60-419C-B575-670BE65A6625.png" height="534" width="755"/></div><div><br/></div></body></html>