<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.9.1 (457703)"/><meta name="altitude" content="98.96640014648438"/><meta name="author" content="Olaf Kotur"/><meta name="created" content="2019-03-30 09:15:53 +0000"/><meta name="latitude" content="52.6397705078125"/><meta name="longitude" content="-1.192684920642154"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-03-30 10:44:01 +0000"/><title>07: DNS</title></head><body><div><b>The old way</b></div><ul><li><div>Before DNS all mappings were stored locally in hosts.txt</div></li><li><div>Changes were submitted to SRI via email</div></li><li><div>Admins could pick names at their discretion as any names were allowed</div></li><li><div>Admins had to update hosts file on every machine to include every host their users might access</div></li><li><div>Any machine not in hosts file could only be accessed using IP address</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><font face="Monaco">ping 148.88.17.43 instead of ping www.lancs.ac.uk</font></div></div><div><br/></div><div><br/></div><div><b>What’s so bad about it?</b></div><ul><li><div>Not scalable - updating hosts is a bit of a bitch</div></li><li><div>Hard to enforce uniqueness of names - any name is allowed</div></li><li><div>Many machines have inaccurate copies of hosts - need a real-time system</div></li><li><div>BEHOLD THE BIRTH OF DNS</div></li></ul><div><br/></div><div><br/></div><div><b>Domain Name System: </b>Distributed database implemented in hierarchy of many name servers.</div><ul><li><div>Application layer protocol</div></li><li><div>Hosts, name servers communicate to resolve names</div></li><li><div>Decentralised so that there is multiple points of failure, high traffic and distance sensitive</div></li></ul><div><br/></div><div><br/></div><div><b>DNS Services</b></div><ul><li><div>Hostname to IP address translation</div></li><li><div>Host aliasing</div></li><li><div>Mail server aliasing</div></li><li><div>Load distribution - many IPs correspond to one name</div></li><li><div>Cached entries expire after TTL</div></li></ul><div><br/></div><div><img src="07%3A%20DNS.html.resources/F1440945-CAEA-441E-BAB6-1F50B97BBCA5.png" height="786" width="1348"/></div><div><br/></div><div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"/><col style="width: 491px;"/></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><b>Top Level Domain</b></div></td><td style="width: 491px; padding: 8px; border: 1px solid;"><div>Responsible for com, org, net, edu, aero, jobs, museums and all country domains</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><b>Authoritative DNS servers</b></div></td><td style="width: 491px; padding: 8px; border: 1px solid;"><div>Organisation’s own DNS server providing hostname to IP mappings</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><b>Local DNS name server</b></div></td><td style="width: 491px; padding: 8px; border: 1px solid;"><div>When host makes DNS query, sent to local DNS - has a local cache of recent translations (acts as a proxy)</div></td></tr></tbody></table><div><br/></div></div><div><b>Subdomain: </b>One domain is a subdomain if it ends its domain name with another domain name <b>e.g. </b>comp.lancs.ac.uk</div><ol><li><div>comp</div></li><li><div>lancs</div></li><li><div>ac</div></li><li><div>uk</div></li></ol><div><br/></div><div><b>Fully Qualified Domain Names (FQDN): </b>Domains that end with a dot implies at top of DNS hierarchy where no further resolution is needed <b>e.g. </b>yourmum.com<b>.</b></div><div><b><br/></b></div><div><b>13 Root Servers: </b>Contacts authoritative name server if name mapping is not known</div><ul><li><div>Updated twice a day from non-public registry file server</div></li><li><div>Each server has a redundant backup</div></li><li><div>Addresses for full set fit in a single protocol message</div></li></ul><div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"/><col style="width: 130px;"/><col style="width: 314px;"/></colgroup><tbody><tr><td colspan="3" style="width: 574px; padding: 8px; border: 1px solid;"><div><b>DNS Records: </b>Distributed database storing resource records (name, value, type, TTL)</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><b>Type A</b></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div>Name - hostname</div></td><td style="width: 314px; padding: 8px; border: 1px solid;"><div>Value - IP address</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><b>Type NS</b></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div>Name - domain</div></td><td style="width: 314px; padding: 8px; border: 1px solid;"><div>Value - host name of authoritative name server</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><b>Type CNAME</b></div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div>Name - alias</div></td><td style="width: 314px; padding: 8px; border: 1px solid;"><div>Value - canonical name</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div><b>Type MX</b></div></td><td colspan="2" style="width: 444px; padding: 8px; border: 1px solid;"><div>Value - name of mail server associated with name</div></td></tr></tbody></table><div><br/></div><div><b>DNS Registration</b></div><div><img src="07%3A%20DNS.html.resources/B3E316E1-68BA-4E7A-AA7C-87A949B29918.png" height="792" width="1384"/></div></div><div><br/></div><div><br/></div><div><b>DNSSEC</b></div><ul><li><div>Solution to the evil name servers - how do you know that the correct IP is getting sent back?</div></li><li><div>Cryptographically sign critical resource records - resolver can verify signature</div></li><li><div><b>Type DNSKEY: </b>Name - Zone domain name, Value - Public key for the zone</div></li><li><div><b>Type RRSIG: </b>Name - (type, name) tuple query itself, Value - signature of results</div></li></ul><div><b><br/></b></div></body></html>