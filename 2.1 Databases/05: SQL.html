<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.9.1 (457703)"/><meta name="altitude" content="60.58229064941406"/><meta name="author" content="Olaf Kotur"/><meta name="created" content="2019-01-29 09:08:11 +0000"/><meta name="latitude" content="54.00948215183714"/><meta name="longitude" content="-2.785710180251487"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-04-30 07:52:26 +0000"/><title>05: SQL</title></head><body><div><br/></div><div><img src="05%3A%20SQL.html.resources/F59F515B-E2D3-4612-8E8B-96FC204E67BC.png" height="596" width="1024"/><br/></div><div><br/></div><div><span style="font-weight: bold;">Example 1</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>SELECT FName, LName FROM STUDENT WHERE DName = ‘Computer Science'</div></div><div><img src="05%3A%20SQL.html.resources/A9665387-87C0-4A95-9EB4-4FC165511B6D.png" height="82" width="840"/><br/></div><div><img src="05%3A%20SQL.html.resources/0CE927EA-7CB9-4D51-98AA-7AA3B4BBCE2A.png" height="246" width="398"/><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">Example 2</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>SELECT FName, LName FROM STUDENT WHERE (LName = ’Simpson’ AND Gender = ‘M’) OR (DName = ‘Religious Studies')</div></div><div><img src="05%3A%20SQL.html.resources/CF259183-D17B-4F95-85F5-150EB0EE71DE.png" height="128" width="950"/><br/></div><div><img src="05%3A%20SQL.html.resources/A5DA76A4-0BCB-4770-B1D9-E7EC8DC75106.png" height="344" width="516"/><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">Inner Joins</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>// INNER JOIN vs. Implicit JOIN equivalence</div><div>SELECT attributes FROM t1 INNER JOIN t2 ON t1.attr = t2.attr WHERE condition;</div><div><br/></div><div>SELECT attributes FROM t1, t2 WHERE t1.attr = t2.attr AND CONDITION;</div><div><br/></div><div><br/></div><div>// CROSS JOIN equivalence</div><div>SELECT * FROM t1 CROSS JOIN t2</div><div><br/></div><div>SELECT * FROM t1, t2;</div></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">Outer Joins</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>// All rows from left table</div><div>SELECT attributes FROM t1 LEFT OUTER JOIN t2 ON t1.attr = t2.attr WHERE condition;</div><div><span style="font-size: 12px; font-family: Monaco;"><br/></span></div><div>// All rows from right table</div><div>SELECT attributes FROM t1 RIGHT OUTER JOIN t2 ON t1.attr = t2.attr WHERE condition;</div><div><br/></div><div>// All rows from both tables</div><div>SELECT attributes FROM t1 FULL OUTER JOIN t2 ON t1.attr = t2.attr WHERE condition</div></div><div><br/></div><div><img src="05%3A%20SQL.html.resources/52B4B517-F3C8-42D2-9429-758D05E4FD7B.png" height="508" width="602"/><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">Wild Cards</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>SELECT FName, LName FROM STUDENT WHERE Address LIKE ‘%Terrace%'</div></div><div><img src="05%3A%20SQL.html.resources/C492C500-9D0A-412E-A382-E2B5A234684A.png" height="446" width="632"/><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">BETWEEN</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>SELECT Name, HoD FROM DEPARTMENT WHERE NoOfEmps BETWEEN 16 AND 30;</div></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">ORDER</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>// Normal ordering</div><div>SELECT DName, FName, LName FROM STUDENT WHERE Gender = “M” ORDER BY DName, LName, FName</div><div><br/></div><div><font face="Monaco">// Can add DESC or ASC if you want to specify increment value</font></div></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">DISTINCT</span></div><div><ul><li><div>Gets rid of all duplicates when requesting a result</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>SELECT DISTINCT Gender, DName FROM STUDENT</div></div></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">Aggregate Functions</span></div><ul><li><div>COUNT</div></li><li><div>SUM</div></li><li><div>MAX</div></li><li><div>MIN</div></li><li><div>AVG</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>// Example finding average</div><div>SELECT SUM(Price) /  COUNT(Price) FROM YOURMUM</div></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">GROUP</span></div><ul><li><div>Allows us to apply aggregate function independently to each group <span style="font-weight: bold;">e.g. </span>average salaries of employees by department</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>SELECT DName, COUNT(RegNum) FROM STUDENT GROUP BY DName</div></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">Modification</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>INSERT INTO STUDENT VALUES (“Kotur”, “Olaf”, 19, 3491)</div><div><br/></div><div>DELETE FROM STUDENT WHERE id=3491</div><div><br/></div><div>UPDATE STUDENT SET LName=“Sikora” WHERE id=3491</div></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">Table Creation</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>CREATE TABLE Persons(</div><div>  PersonID int,</div><div>  LastName varchar(255),</div><div>  FirstName varchar(255),</div><div>  Address varchar(255),</div><div>  City varchar(255),</div><div>  PRIMARY KEY (PersonID),</div><div>  FOREIGN KEY (City) REFERENCES Customers(CustomerID)</div><div>);</div></div><div><br/></div><div><img src="05%3A%20SQL.html.resources/302398ED-99DA-4896-ACB8-5032A8AB9A05.png" height="714" width="801"/><br/></div><div><br/></div><div><span style="font-weight: bold;">Complex Inner Join example</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>SELECT Persons.Name AS "Locomotives", Companies.Name AS "Company" </div><div>FROM Persons</div><div>INNER JOIN Companies</div><div>ON Companies.Company = Persons.Company </div><div>WHERE Companies.Name LIKE "London%" ORDER BY Locomotives ASC LIMIT 6;</div></div><div><br/></div></body></html>